{"version":3,"file":"2-form.js","sources":["../src/js/refs.js","../src/js/form-localstorage.js","../src/js/form-data.js","../src/js/form-fill.js","../src/js/form-listener.js","../src/js/2-form.js"],"sourcesContent":["export const refs = {\n  fBForm: document.querySelector('.feedback-form'),\n};\n","export const saveToLS = (key, data) => {\n  try {\n    localStorage.setItem(key, JSON.stringify(data));\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const loadFromLS = key => {\n  try {\n    return JSON.parse(localStorage.getItem(key));\n  } catch (err) {\n    console.log(err);\n  }\n};\n","export let formData = { email: '', message: '' };\n","import { loadFromLS } from './form-localstorage';\nimport { formData } from './form-data.js';\n\nexport const fillFBFormFields = fBForm => {\n  const fBFormDataFromLS = loadFromLS('feedback-form-state');\n\n  if (fBFormDataFromLS === null) {\n    return;\n  }\n\n  Object.assign(formData, fBFormDataFromLS);\n\n  const fBFormDataFromLSKeys = Object.keys(fBFormDataFromLS);\n\n  fBFormDataFromLSKeys.forEach(\n    key => (fBForm.elements[key].value = fBFormDataFromLS[key])\n  );\n};\n","import { formData } from './form-data.js';\nimport { saveToLS } from './form-localstorage.js';\n\nexport const handleChangeFBForm = ({ target: fBFormField }) => {\n  try {\n    const fBFormFieldValue = fBFormField.value.trim();\n    const fBFormFieldName = fBFormField.name;\n\n    formData[fBFormFieldName] = fBFormFieldValue;\n\n    saveToLS('feedback-form-state', formData);\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const onFBFormSubmit = e => {\n  e.preventDefault();\n  const { email, message } = formData;\n\n  if (!email || !message) {\n    alert('Заполните оба поля формы!');\n    return;\n  }\n  console.log({ email, message });\n  localStorage.removeItem('feedback-form-state');\n  e.target.reset();\n\n  Object.keys(formData).forEach(key => (formData[key] = ''));\n};\n","import { refs } from './refs.js';\nimport { fillFBFormFields } from './form-fill.js';\nimport { handleChangeFBForm, onFBFormSubmit } from './form-listener.js';\n\nfillFBFormFields(refs.fBForm);\n\nrefs.fBForm.addEventListener('input', handleChangeFBForm);\nrefs.fBForm.addEventListener('submit', onFBFormSubmit);\n"],"names":["refs","saveToLS","key","data","err","loadFromLS","formData","fillFBFormFields","fBForm","fBFormDataFromLS","handleChangeFBForm","fBFormField","fBFormFieldValue","fBFormFieldName","onFBFormSubmit","e","email","message"],"mappings":"oCAAO,MAAMA,EAAO,CAClB,OAAQ,SAAS,cAAc,gBAAgB,CACjD,ECFaC,EAAW,CAACC,EAAKC,IAAS,CACrC,GAAI,CACF,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAI,CAAC,CAC/C,OAAQC,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACH,EAEaC,EAAaH,GAAO,CAC/B,GAAI,CACF,OAAO,KAAK,MAAM,aAAa,QAAQA,CAAG,CAAC,CAC5C,OAAQE,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACH,ECdO,IAAIE,EAAW,CAAE,MAAO,GAAI,QAAS,EAAI,ECGzC,MAAMC,EAAmBC,GAAU,CACxC,MAAMC,EAAmBJ,EAAW,qBAAqB,EAEzD,GAAII,IAAqB,KACvB,OAGF,OAAO,OAAOH,EAAUG,CAAgB,EAEX,OAAO,KAAKA,CAAgB,EAEpC,QACnBP,GAAQM,EAAO,SAASN,CAAG,EAAE,MAAQO,EAAiBP,CAAG,CAC7D,CACA,ECdaQ,EAAqB,CAAC,CAAE,OAAQC,KAAkB,CAC7D,GAAI,CACF,MAAMC,EAAmBD,EAAY,MAAM,KAAI,EACzCE,EAAkBF,EAAY,KAEpCL,EAASO,CAAe,EAAID,EAE5BX,EAAS,sBAAuBK,CAAQ,CACzC,OAAQF,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACH,EAEaU,EAAiBC,GAAK,CACjCA,EAAE,eAAc,EAChB,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAS,EAAGX,EAE3B,GAAI,CAACU,GAAS,CAACC,EAAS,CACtB,MAAM,2BAA2B,EACjC,MACD,CACD,QAAQ,IAAI,CAAE,MAAAD,EAAO,QAAAC,CAAS,CAAA,EAC9B,aAAa,WAAW,qBAAqB,EAC7CF,EAAE,OAAO,QAET,OAAO,KAAKT,CAAQ,EAAE,QAAQJ,GAAQI,EAASJ,CAAG,EAAI,EAAG,CAC3D,ECzBAK,EAAiBP,EAAK,MAAM,EAE5BA,EAAK,OAAO,iBAAiB,QAASU,CAAkB,EACxDV,EAAK,OAAO,iBAAiB,SAAUc,CAAc"}